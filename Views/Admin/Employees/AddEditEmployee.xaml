<UserControl
    x:Class="HillsCafeManagement.Views.Admin.Employees.AddEditEmployee"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    mc:Ignorable="d"
    d:DesignWidth="450"
    d:DesignHeight="600"
    Background="#99000000">

    <Border
        Width="450"
        Background="White"
        Padding="20"
        CornerRadius="10"
        VerticalAlignment="Center"
        HorizontalAlignment="Center"
        MaxHeight="600">

        <ScrollViewer VerticalScrollBarVisibility="Auto" Height="560">
            <StackPanel>

                <!-- Title -->
                <TextBlock x:Name="TitleText"
                           Text="Add / Edit Employee"
                           FontSize="20"
                           FontWeight="Bold"
                           Foreground="#6378FF"
                           Margin="0,0,0,15"
                           TextAlignment="Center" />

                <!-- Helper note for auto-fill -->
                <Border Background="#F1F5FF" CornerRadius="8" Padding="10" Margin="0,0,0,12">
                    <TextBlock
                        Text="Tip: Selecting a Position will auto-fill Salary Per Day from Payroll → Positions &amp; Salaries. Enable Manual Override to edit salary."
                        Foreground="#223"
                        TextWrapping="Wrap"/>
                </Border>

                <!-- Full Name -->
                <TextBlock Text="Full Name:" FontWeight="Bold" />
                <TextBox x:Name="FullNameTextBox" Margin="0,0,0,10" />

                <!-- Age -->
                <TextBlock Text="Age:" FontWeight="Bold" />
                <TextBox x:Name="AgeTextBox" Margin="0,0,0,10" />

                <!-- Sex -->
                <TextBlock Text="Sex:" FontWeight="Bold" />
                <ComboBox x:Name="SexComboBox" Margin="0,0,0,10" SelectedIndex="0">
                    <ComboBoxItem Content="Male" />
                    <ComboBoxItem Content="Female" />
                    <ComboBoxItem Content="Other" />
                </ComboBox>

                <!-- Address -->
                <TextBlock Text="Address:" FontWeight="Bold" />
                <TextBox x:Name="AddressTextBox" Margin="0,0,0,10" />

                <!-- Birthday -->
                <TextBlock Text="Birthday:" FontWeight="Bold" />
                <DatePicker x:Name="BirthdayDatePicker" Margin="0,0,0,10" SelectedDateFormat="Short" />

                <!-- Contact Number -->
                <TextBlock Text="Contact Number:" FontWeight="Bold" />
                <TextBox x:Name="ContactNumberTextBox" Margin="0,0,0,10" />

                <!-- Position -->
                <TextBlock Text="Position:" FontWeight="Bold" />
                <ComboBox x:Name="PositionComboBox"
                          IsEditable="True"
                          Margin="0,0,0,6"
                          StaysOpenOnEdit="True"
                          IsTextSearchEnabled="True"
                          SelectionChanged="PositionComboBox_SelectionChanged"/>
                <TextBlock Text="(Start typing to search…)"
                           Foreground="#777" FontSize="11" Margin="0,0,0,10"/>

                <!-- Salary Per Day + manual override -->
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0,0,0,2">
                    <TextBlock Text="Salary Per Day:" FontWeight="Bold" VerticalAlignment="Center"/>
                    <CheckBox x:Name="ManualOverrideCheckBox"
                              Content="Manual Override"
                              Margin="12,0,0,0"
                              VerticalAlignment="Center"
                              Checked="ManualOverrideCheckBox_Checked"
                              Unchecked="ManualOverrideCheckBox_Unchecked"/>
                </StackPanel>

                <TextBox x:Name="SalaryPerDayTextBox"
                         Margin="0,0,0,10"
                         IsReadOnly="True"
                         ToolTip="Auto-filled from position. Enable Manual Override to edit." />

                <!-- NEW: Work Schedule -->
                <TextBlock Text="Work Schedule:" FontWeight="Bold" />
                <ComboBox x:Name="WorkScheduleComboBox"
                          Margin="0,0,0,10"
                          DisplayMemberPath="Label"
                          SelectedValuePath="Id" />
                <!-- (Optional hint)
                <TextBlock Text="Manage schedules in Attendance → Work Schedule Setup."
                           Foreground="#777" FontSize="11" Margin="0,-6,0,10"/> -->

                <!-- Shift -->
                <TextBlock Text="Shift:" FontWeight="Bold" />
                <ComboBox x:Name="ShiftComboBox" Margin="0,0,0,10" SelectedIndex="0">
                    <ComboBoxItem Content="Morning" />
                    <ComboBoxItem Content="Afternoon" />
                    <ComboBoxItem Content="Night" />
                </ComboBox>

                <!-- SSS -->
                <TextBlock Text="SSS Number:" FontWeight="Bold" />
                <TextBox x:Name="SssNumberTextBox" Margin="0,0,0,10" />

                <!-- Philhealth -->
                <TextBlock Text="Philhealth Number:" FontWeight="Bold" />
                <TextBox x:Name="PhilhealthNumberTextBox" Margin="0,0,0,10" />

                <!-- Pagibig -->
                <TextBlock Text="Pagibig Number:" FontWeight="Bold" />
                <TextBox x:Name="PagibigNumberTextBox" Margin="0,0,0,10" />

                <!-- Image URL -->
                <!-- Profile Photo -->
                <TextBlock Text="Profile Photo:" FontWeight="Bold" />
                <StackPanel Orientation="Horizontal" Margin="0,0,0,10" VerticalAlignment="Center">
                    <Button x:Name="UploadImageButton"
            Content="Upload Photo"
            Padding="8,4"
            Click="UploadImage_Click"/>
                    <TextBlock x:Name="SelectedImageLabel"
               Margin="10,0,0,0"
               VerticalAlignment="Center"
               Foreground="#555"
               Text="No file selected"/>
                </StackPanel>

                <!-- Optional preview (shown after selecting a file or when editing with existing photo) -->
                <Image x:Name="ImagePreview"
       Height="120"
       Stretch="Uniform"
       Margin="0,0,0,10"
       Visibility="Collapsed"/>


                <!-- Emergency Contact -->
                <TextBlock Text="Emergency Contact:" FontWeight="Bold" />
                <TextBox x:Name="EmergencyContactTextBox" Margin="0,0,0,10" />

                <!-- Date Hired -->
                <TextBlock Text="Date Hired:" FontWeight="Bold" />
                <DatePicker x:Name="DateHiredDatePicker" Margin="0,0,0,15" SelectedDateFormat="Short" />

                <!-- Buttons -->
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Content="Cancel" Margin="0,0,10,0" Padding="8,4" Click="Cancel_Click" />
                    <Button x:Name="SaveButton" Content="Save" Background="#6378FF" Foreground="White" Padding="8,4" Click="Save_Click" />
                </StackPanel>

            </StackPanel>
        </ScrollViewer>
    </Border>
</UserControl>
